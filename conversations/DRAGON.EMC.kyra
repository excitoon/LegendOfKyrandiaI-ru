# `DRAGON.EMC`.

strings = {
	s000: 'SEALED.WSA',
	s_entrance_solid_ice: 'The entrance is solid ice.',
	s_yeoww: '   Yeoww!   ',
	s_what_the_heck_is: 'What the heck is that?',
	s004: 'TOSS.WSA',
	s005: 'MALENTER.WSA',
	s006: 'SHUFFLE2.WSA',
	s007: 'JUGGLE.WSA',
	s008: 'JUGLTALK.WSA',
	s009: 'BEHIND.WSA',
	s010: 'JESTTALK.WSA',
	s011: 'BRANTALK.WSA',
	s_youre_hero_thrown_against: 'So, YOU\'RE the hero thrown against me?',
	s_do_believe_all_brynns: 'Do you believe in all Brynn\'s lies?',
	s_none_test_better: 'Were there none to test me better?',
	s_perhaps_mother_should_assist: 'Perhaps your MOTHER should assist you.',
	s_you_must_be_malcolm: 'YOU must be Malcolm.',
	s_mother_lives_can_tell: 'YOUR mother lives, and I can tell, sir.',
	s_for_surely_she_has: 'For surely, SHE has dressed you.',
	s_be_careful_boy: 'Be careful, boy.',
	s_do_insult_man_knives: 'Do not insult a man with knives!',
	s_please_move_aside_seek: 'Please move aside. I seek the cave.',
	s_beware_young_fool: 'Beware, young fool...',
	s_grip_may_slip: '...my grip may slip!',
	s024: 'DODGE.WSA',
	s_bother_sir_missed_mark: 'No bother sir. You missed the mark.',
	s_i_do_not_miss: 'I do not miss...',
	s_except_at_will: '...except at will.',
	s_must_return_gift_kind: 'I must return your gift, kind sir.',
	s_leave_now_dodge_sorrow: 'I leave you now, and dodge your sorrow...',
	s_may_nice_tomorrow: '...but I may NOT be nice tomorrow.',
	s031: 'FROZEN.WSA',
	s_now_thats_scary: 'Now THAT\'S scary!',
	s_which_circus_is_he: 'Which circus is HE from?',
	s_this_is_solid_ice: 'This is solid ice!',
	s_title: 'Serpent\'s Grotto',
	s_now_would_want_go: 'Now why would I want to go into a cave like this?',
}

globals = [global_0, global_1, global_2, global_3, global_4, global_5, global_6]

label func_0
instr_5(2, 0x01)
instr_7(2, 0x01)
binary(2, 0x07)
instr_5(2, 0x01)
instr_7(2, 0x01)
instr_7(2, 0x03)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
binary(2, 0x07)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
instr_7(2, 0x04)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
if cond:
	return 0x01

return 0x00
return acc

label func_28
instr_5(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc
instr_7(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc

label global_0
call_143(0x4e, 0x38, 0x2b, u16(0x00b0))
call_143(0x3e, u16(0x00a0), 0x3b, 0x48)
call_143(0x31, 0x20, 0x47, 0x48)
call_143(0x3e, u16(0x00c0), 0x3b, 0x28)
call_143(0x3e, u16(0x00d8), 0x3b, 0x28)
call_143(0x34, 0x38, 0x45, u16(0x00b0))
call_143(0x3f, 0x38, 0x3a, u16(0x00b0))
call_143(0x71, 0x38, 0x08, u16(0x00b0))
call_143(0x51, 0x70, 0x28, u16(0x00b0))
call_143(0x48, 0x50, 0x28, u16(0x00d0))
call_143(0x56, 0x70, 0x21, u16(0x00b8))
call_24(0x00, 0x0b)
call_4(0x52)
instr_2(2, 0x00)
if cond:
	call_10(add(0x5b, 0x0e), add(u16(0x00d3), 0x49), 0x5b, u16(0x00d3))
	call_41(0x01, 0xff, 0x00, 0x00)
	call_63(0x00, 0x00, 0x28, u16(0x00d0), 0x11)
	call_42(0x00)

else:
	call_123(0x02, 0x4b, 0x7c, 0x24, u16(0x00c4))

return 0x00
return acc

label global_1
instr_13(2, 0x02)
push(2, 0x01)
instr_9(2, 0x03)
call(2, call_122)
instr_2(2, 0x00)
push(2, 0xfb)
binary(2, 0x02)
if cond:
	call_4(0x52)
	instr_2(2, 0x00)
	ifnot(1, label_226)
	func_28()
	speak(0xfe, 0x00, s_entrance_solid_ice)
	leave 0x02
	return acc

label label_226
call(2, call_122)
instr_2(2, 0x00)
push(2, 0xfb)
binary(2, 0x02)
if cond:
	call_4(0x47)
	instr_2(2, 0x00)
	push(2, 0x01)
	binary(2, 0x02)
	if cond:
		call_11(0x01, 0x01, 0x5e, u16(0x0138))
		leave 0x02
		return acc

	call_4(0x47)
	instr_2(2, 0x00)
	push(2, 0x00)
	binary(2, 0x02)
	ifnot(1, label_1238)
	call_11(0x00, 0x01, 0x60, u16(0x0110))
	instr_2(2, 0x00)
	instr_10(2, 0x02)
	instr_6(2, 0x02)
	if cond:
		call_65(0x01, 0xff, 0x07, 0x00)
		leave 0x02
		return acc

	call_24(0x01, 0x01)
	call(2, call_54)
	call(2, call_38)
	call_11(0x01, 0x00, 0x60, u16(0x012c))
	call_33(0x01)
	call_112(0x00)
	instr_2(2, 0x00)
	instr_10(2, 0x01)
	call_89(0x02, 0x00)
	call_11(0x00, 0x00, 0x62, u16(0x00d4))
	call_65(0x01, 0x03, 0x07, 0x00)
	speak(0xfe, 0x00, s_yeoww)
	call_11(0x00, 0x00, 0x78, u16(0x00d4))
	call_81(0x78, u16(0x00a0), 0x00)
	call_65(0x01, 0x03, 0x07, 0x00)
	call_89(arg(0x01), 0x00)
	speak(0xfe, 0x00, s_what_the_heck_is)
	call_41(0x01, 0xff, 0x00, 0x04)
	call_41(0x00, 0xff, 0x01, 0x05)
	call_41(0x00, 0xff, 0x02, 0x06)
	call_24(0x01, 0x0f)
	call_64(0x01, 0x01, 0x04, 0x28, u16(0x00b0), 0x4c, 0x00)
	call_64(0x01, 0x01, 0x00, 0x28, u16(0x00b0), 0x4d, 0x4d)
	call_43(0x01, 0x02, 0x04, 0x3b, 0x48)
	call_64(0x01, 0x00, 0x04, 0x08, u16(0x00b0), 0x10, 0x00)
	call_42(0x02)
	call_42(0x01)
	call_41(0x01, 0xff, 0x01, 0x07)
	call_41(0x00, 0xff, 0x02, 0x08)
	call_41(0x00, 0xff, 0x03, 0x09)
	call_41(0x01, 0xff, 0x04, 0x0a)
	call_41(0x00, 0xff, 0x05, 0x0b)
	call_24(0x01, 0x10)
	tell(0x05, 0x38, u16(0x00d2), s_youre_hero_thrown_against)
	call_64(0x05, 0x04, 0x07, 0x45, u16(0x00b0), 0x06, 0x00)
	call(2, call_53)
	call_64(0x01, 0x00, 0x04, 0x08, u16(0x00b0), 0x1b, 0x11)
	call_64(0x02, 0x01, 0x04, 0x3a, u16(0x00b0), 0x0f, 0x00)
	tell(0x05, 0x38, u16(0x00d2), s_do_believe_all_brynns)
	call_64(0x04, 0x02, 0x04, 0x3a, u16(0x00b0), 0x0f, 0x00)
	call(2, call_53)
	call_64(0x01, 0x03, 0x04, 0x2b, u16(0x00b0), 0x1f, 0x00)
	tell(0x05, 0x38, u16(0x00d2), s_none_test_better)
	call_64(0x04, 0x02, 0x04, 0x3a, u16(0x00b0), 0x0f, 0x00)
	call(2, call_53)
	call_64(0x02, 0x01, 0x04, 0x3a, u16(0x00b0), 0x0f, 0x00)
	tell(0x05, 0x38, u16(0x00d2), s_perhaps_mother_should_assist)
	call_64(0x04, 0x02, 0x04, 0x3a, u16(0x00b0), 0x0f, 0x00)
	call(2, call_53)
	call_64(0x01, 0x00, 0x04, 0x08, u16(0x00b0), 0x10, 0x00)
	tell(0x0f, 0x38, 0x5c, s_you_must_be_malcolm)
	call_64(0x04, 0x05, 0x0a, 0x47, 0x48, 0x08, 0x00)
	call(2, call_53)
	tell(0x0f, 0x38, 0x5c, s_mother_lives_can_tell)
	call_64(0x05, 0x05, 0x0a, 0x47, 0x48, 0x08, 0x00)
	call(2, call_53)
	tell(0x0f, 0x38, 0x5c, s_for_surely_she_has)
	call_64(0x04, 0x05, 0x0a, 0x47, 0x48, 0x08, 0x00)
	call(2, call_53)
	call_64(0x01, 0x00, 0x04, 0x08, u16(0x00b0), 0x1b, 0x11)
	call_64(0x01, 0x03, 0x04, 0x2b, u16(0x00b0), 0x1f, 0x00)
	tell(0x05, 0x38, u16(0x00d2), s_be_careful_boy)
	call_64(0x03, 0x02, 0x04, 0x3a, u16(0x00b0), 0x0f, 0x00)
	call(2, call_53)
	call_64(0x01, 0x01, 0x04, 0x3a, u16(0x00b0), 0x0f, 0x00)
	tell(0x05, 0x38, u16(0x00d2), s_do_insult_man_knives)
	call_64(0x04, 0x02, 0x04, 0x3a, u16(0x00b0), 0x0f, 0x00)
	call(2, call_53)
	call_64(0x01, 0x03, 0x04, 0x2b, u16(0x00b0), 0x1f, 0x00)
	call_64(0x01, 0x00, 0x04, 0x08, u16(0x00b0), 0x10, 0x00)
	tell(0x0f, 0x38, 0x5c, s_please_move_aside_seek)
	call_64(0x04, 0x05, 0x0a, 0x47, 0x48, 0x08, 0x00)
	call(2, call_53)
	tell(0x05, 0x38, u16(0x00d2), s_beware_young_fool)
	call_64(0x04, 0x04, 0x07, 0x45, u16(0x00b0), 0x06, 0x00)
	call(2, call_53)
	tell(0x05, 0x38, u16(0x00d2), s_grip_may_slip)
	call_64(0x04, 0x04, 0x07, 0x45, u16(0x00b0), 0x06, 0x00)
	call(2, call_53)
	call_42(0x02)
	call_42(0x03)
	call_42(0x04)
	call_42(0x05)
	call_41(0x01, 0xff, 0x02, 0x18)
	call_64(0x01, 0x00, 0x04, 0x08, u16(0x00b0), 0x1b, 0x11)
	call_64(0x01, 0x02, 0x04, 0x3b, 0x28, 0x0d, 0x00)
	call_23(0x56)
	call_64(0x01, 0x02, 0x04, 0x3b, 0x28, 0x19, 0x0e)
	call_33(0x01)
	call_64(0x01, 0x02, 0x1e, 0x3b, 0x28, 0x1a, 0x1a)
	call_64(0x01, 0x02, 0x1e, 0x3b, 0x28, 0x1b, 0x1b)
	tell(0x0f, 0x38, 0x5c, s_bother_sir_missed_mark)
	call_64(0x04, 0x02, 0x0a, 0x3b, 0x28, 0x20, 0x1c)
	call_33(0x01)
	call(2, call_53)
	tell(0x05, 0x38, u16(0x00d2), s_i_do_not_miss)
	call_64(0x04, 0x02, 0x05, 0x3b, 0x28, 0x26, 0x20)
	call_33(0x01)
	call(2, call_53)
	tell(0x05, 0x38, u16(0x00d2), s_except_at_will)
	call_64(0x04, 0x02, 0x05, 0x3b, 0x28, 0x26, 0x20)
	call_33(0x01)
	call(2, call_53)
	call_64(0x01, 0x02, 0x1e, 0x3b, 0x28, 0x1a, 0x1a)
	call_64(0x01, 0x02, 0x1e, 0x3b, 0x28, 0x1b, 0x1b)
	call(2, call_55)
	call(2, call_100)
	call(2, call_54)
	func_0(add(sub(0x5c, 0x46), 0x01), add(sub(0x38, 0x20), 0x01), 0x46, 0x20)
	instr_2(2, 0x00)
	if cond:
		tell(0x0f, 0x38, 0x5c, s_must_return_gift_kind)
		call_64(0x04, 0x02, 0x0a, 0x3b, 0x28, 0x20, 0x1c)
		call_33(0x01)
		call(2, call_53)
		call_64(0x01, 0x02, 0x04, 0x3b, 0x28, 0x2a, 0x27)
		call_23(0x2f)
		call_64(0x01, 0x02, 0x04, 0x3b, 0x28, 0x35, 0x2b)
		call_64(0x01, 0x01, 0x04, 0x3a, u16(0x00b0), 0x0f, 0x00)
		call_64(0x01, 0x00, 0x04, 0x08, u16(0x00b0), 0x10, 0x00)
		call_42(0x01)
		call_42(0x02)
		call_41(0x01, 0xff, 0x01, 0x05)
		call_41(0x01, 0xff, 0x02, 0x0a)
		call_41(0x01, 0xff, 0x03, 0x00)
		tell(0x05, 0x38, u16(0x00d2), s_leave_now_dodge_sorrow)
		call_64(0x05, 0x02, 0x07, 0x45, u16(0x00b0), 0x06, 0x00)
		call(2, call_53)
		tell(0x05, 0x38, u16(0x00d2), s_may_nice_tomorrow)
		call_64(0x05, 0x02, 0x07, 0x45, u16(0x00b0), 0x06, 0x00)
		call(2, call_53)
		call_64(0x01, 0x00, 0x04, 0x08, u16(0x00b0), 0x1b, 0x11)
		call_64(0x01, 0x01, 0x00, 0x28, u16(0x00b0), 0x4e, 0x4e)
		call_64(0x01, 0x01, 0x04, 0x28, u16(0x00b0), 0x0b, 0x4c)
		call_24(0x01, 0x01)
		call_64(0x01, 0x03, 0x05, 0x28, u16(0x00d0), 0x03, 0x00)
		call_23(0x67)
		call_64(0x01, 0x03, 0x05, 0x28, u16(0x00d0), 0x11, 0x04)
		call_10(add(0x5b, 0x0e), add(u16(0x00d3), 0x49), 0x5b, u16(0x00d3))
		call_49(0x00)
		call_63(0x03, 0x00, 0x28, u16(0x00d0), 0x11)
		call(2, call_86)
		call_67(0x78, 0x54, 0x00)
		call_5(0x52)
		call_123(0x02, 0xff, 0xff, 0xff, 0xff)
		call_42(0x00)
		call_42(0x01)
		call_42(0x02)
		call_42(0x03)

	else:
		call_65(0x00, 0x03, add(add(add(0x29, 0x23), 0x01), 0x0b), 0x00)
		call_42(0x00)
		call_42(0x01)
		call_42(0x02)
		call_41(0x01, 0xff, 0x00, 0x1f)
		call_23(0x6f)
		call_64(0x01, 0x00, 0x06, 0x3b, 0x28, 0x16, 0x00)
		call_23(0x5a)
		call_64(0x05, 0x00, 0x0a, 0x3b, 0x28, 0x1a, 0x17)
		call_33(0x02)
		call_42(0x00)
		call_24(0x01, 0x01)
		call_95(0x01)
		call(2, call_55)
		leave 0x02
		return acc

	call_5(0x47)
	speak(0xfe, 0x00, s_now_thats_scary)
	call_33(0x01)
	speak(0xfe, 0x00, s_which_circus_is_he)
	call(2, call_55)
	leave 0x02
	return acc

label label_1238
call_4(0x52)
instr_2(2, 0x00)
func_0(0x38, 0x45, 0x33, u16(0x00d7))
instr_2(2, 0x00)
binary(2, 0x00)
if cond:
	speak(0xfe, 0x00, s_this_is_solid_ice)
	leave 0x02
	return acc

push(2, 0x00)
instr_9(2, 0x03)
leave 0x02
return acc
leave 0x02
return acc

label global_2
instr_13(2, 0x00)
title(u16(0x00b3), 0x23)
push(2, 0x00)
instr_9(2, 0x03)
return acc  # acc = title(u16(0x00b3), 0x23)
return acc  # acc = title(u16(0x00b3), 0x23)

label global_3
instr_13(2, 0x00)
call_65(0x01, 0xff, 0x07, 0x00)
call_90(0x00)
instr_2(2, 0x00)
push(2, 0x06)
binary(2, 0x02)
if cond:
	call(2, call_38)

call_4(u16(0x008f))
instr_2(2, 0x00)
unary(2, 0x00)
if cond:
	call_33(0x01)
	speak(0xfe, 0x00, s_now_would_want_go)
	call_5(u16(0x008f))
	push(2, 0x01)
	instr_9(2, 0x03)
	return acc  # acc = call_5(u16(0x008f))

push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_4
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_5
instr_13(2, 0x00)
call_90(0x00)
instr_2(2, 0x00)
push(2, 0x02)
binary(2, 0x03)
if cond:
	call_24(0x00, 0x0b)

else:
	call_24(0x01, 0x00)

push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_6
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc
