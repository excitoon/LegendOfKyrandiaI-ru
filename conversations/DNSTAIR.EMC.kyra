# `DNSTAIR.EMC`.

strings = {
	s_wow: 'Wow!',
	s_this_is_incredible: 'This is incredible!',
	s_its_huge: ' It\'s huge! ',
	s003: 'SLIDE1.WSA',
	s004: 'SLIDE2.WSA',
	s_welcome_lad: 'Welcome Lad!',
	s_did_like_puppies: 'Did you like my puppies?',
	s_must_very_clever: 'You must be VERY clever!',
	s_since_youve_come_youll: 'But since you\'ve come, you\'ll have to stay.',
	s_able_leave_island: 'You will not be able to leave this island.',
	s_rules_here_home: 'I have but 2 rules here in my home:',
	s_do_disturb_morning_naps: 'Do not disturb my morning naps...',
	s_enter_kyra_vault: '...and enter not the Kyra-vault!',
	s_move_aside_purple_windbag: 'Move aside you purple windbag!',
	s_now_now_ive_been: 'Now, now.  I\'ve been patient...',
	s_can_we_not_continue: 'Can we not continue?',
	s_oh_and_yes: 'Oh, and yes!',
	s_friend_yours_now_serves: 'A friend of yours now serves me here.',
	s_oh_herman_herman_brandon: 'Oh Herman... Herman... Brandon is here!',
	s_hmmm_dont_know: 'Hmmm?  I don\'t know where he is...',
	s_im_sure_hell_find: '...but I\'m sure that he\'ll find you.',
	s_really_wants_return_saw: 'He really wants to return your saw.',
	s_what_a_fool: 'What a fool!',
	s_cant_wait_smack_him: 'I can\'t wait to smack him!',
	s_boy_big_stairs: 'Boy!  Big stairs.',
	s_i_wonder_where_they: 'I wonder where they go?',
	s_keep_expecting_banana_peels: 'I keep expecting banana peels here.',
	s_here_go_again: 'Here I go again!',
	s028: 'UPSTAIRS.WSA',
	s_title: 'Castle entry hall',
	s030: 'DNSTAIRS.WSA',
}

globals = [global_0, global_1, global_2, global_3, global_4, global_5, global_6]

instr_5(2, 0x01)
instr_7(2, 0x01)
binary(2, 0x07)
instr_5(2, 0x01)
instr_7(2, 0x01)
instr_7(2, 0x03)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
binary(2, 0x07)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
instr_7(2, 0x04)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
if cond:
	return 0x01

return 0x00
return acc
instr_5(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc
instr_7(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc

label func_74
call(2, call_54)
call(2, call_38)
speak(0xfe, 0x00, s_wow)
call_33(0x01)
call_11(0x00, 0x00, 0x70, u16(0x00a8))
call_65(0x01, 0x05, 0x07, 0x00)
speak(0xfe, 0x00, s_this_is_incredible)
call_65(0x01, 0x03, 0x07, 0x00)
speak(0xfe, 0x00, s_its_huge)
call_41(0x01, 0x00, 0x00, 0x03)
call_66(0x01)
call_64(0x01, 0x00, 0x06, 0x08, 0x50, 0x02, 0x00)
call_23(0x6a)
call_64(0x01, 0x00, 0x06, 0x08, 0x50, 0x0e, 0x03)
call_64(0x01, 0x00, 0x00, 0x08, 0x50, 0x0f, 0x0f)
call_37(0x01)
call_42(0x00)
call_41(0x01, 0x00, 0x00, 0x04)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x02, 0x00)
call_24(0x01, 0x2d)
tell(0x05, 0x30, u16(0x010c), s_welcome_lad)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_did_like_puppies)
call_64(0x03, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_must_very_clever)
call_64(0x03, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_since_youve_come_youll)
call_64(0x05, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_able_leave_island)
call_64(0x05, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_rules_here_home)
call_64(0x06, 0x00, 0x08, 0x38, u16(0x00a8), 0x0e, 0x0b)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_do_disturb_morning_naps)
call_64(0x06, 0x00, 0x08, 0x38, u16(0x00a8), 0x0e, 0x0b)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_enter_kyra_vault)
call_64(0x06, 0x00, 0x08, 0x38, u16(0x00a8), 0x0e, 0x0b)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x0f, 0x30, u16(0x00bc), s_move_aside_purple_windbag)
call_64(0x03, 0x00, 0x08, 0x38, u16(0x00a8), 0x16, 0x0f)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_now_now_ive_been)
call_64(0x05, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_can_we_not_continue)
call_64(0x05, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_oh_and_yes)
call_64(0x03, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_friend_yours_now_serves)
call_64(0x06, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_oh_herman_herman_brandon)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x18, 0x17)
call_64(0x04, 0x00, 0x08, 0x38, u16(0x00a8), 0x1d, 0x19)
call_33(0x02)
call(2, call_53)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x1f, 0x1e)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
tell(0x05, 0x30, u16(0x010c), s_hmmm_dont_know)
call_64(0x04, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_im_sure_hell_find)
call_64(0x05, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
tell(0x05, 0x30, u16(0x010c), s_really_wants_return_saw)
call_64(0x05, 0x00, 0x08, 0x38, u16(0x00a8), 0x09, 0x03)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x0a, 0x0a)
call_33(0x01)
call(2, call_53)
call_24(0x01, 0x01)
call_64(0x01, 0x00, 0x08, 0x38, u16(0x00a8), 0x2c, 0x1f)
call_33(0x01)
call_42(0x00)
call_67(0x70, u16(0x00b4), 0x00)
call_65(0x01, 0x05, 0x07, 0x00)
speak(0xfe, 0x00, s_what_a_fool)
speak(0xfe, 0x00, s_cant_wait_smack_him)
call_24(0x01, 0x27)
return call_55()

label global_0
call_143(0x64, u16(0x0098), 0x08, 0x30)
call_143(0x6c, 0x30, 0x08, 0x40)
call_143(0x70, u16(0x00d0), 0x08, 0x50)
call_143(0x40, u16(0x0090), 0x38, u16(0x00a8))
call_40(u16(0x0100), 0x69, u16(0x00c0), 0x39)
call_123(0x00, 0x5f, u16(0x0094), 0x08, 0x3c)
return 0x00
return acc  # acc = 0x00

label global_1
instr_13(2, 0x03)
call(2, call_122)
instr_2(2, 0x00)
push(2, 0xfa)
binary(2, 0x02)
if cond:
	call_11(0x01, 0x01, 0x6a, u16(0x00b4))
	instr_2(2, 0x00)
	instr_10(2, 0x01)
	instr_6(2, 0x01)
	unary(2, 0x00)
	ifnot(1, label_980)
	call(2, call_38)
	call_58(0x07, 0x05, 0x00)
	call(2, call_54)
	call_4(u16(0x00d6))
	instr_2(2, 0x00)
	unary(2, 0x00)
	if cond:
		speak(0xfe, 0x00, s_boy_big_stairs)
		speak(0xfe, 0x00, s_i_wonder_where_they)
		call_5(u16(0x00d6))

	else:
		call_4(u16(0x00f9))
		instr_2(2, 0x00)
		unary(2, 0x00)
		if cond:
			speak(0xfe, 0x00, s_keep_expecting_banana_peels)
			call_5(u16(0x00f9))

		else:
			speak(0xfe, 0x00, s_here_go_again)

	call_41(0x00, 0x00, 0x00, 0x1c)
	push(2, 0x00)
	instr_10(2, 0x02)
	push(2, 0x00)
	instr_10(2, 0x03)
	label label_905
	instr_6(2, 0x02)
	push(2, 0x27)
	binary(2, 0x05)
	if cond:
		call_64(0x01, 0x00, 0x03, 0x08, 0x30, arg(0x02), arg(0x02))
		instr_6(2, 0x03)
		push(2, 0x01)
		binary(2, 0x08)
		instr_10(2, 0x03)
		instr_6(2, 0x03)
		push(2, 0x02)
		binary(2, 0x06)
		if cond:
			call_23(0x0b)
			push(2, 0x00)
			instr_10(2, 0x03)

		instr_6(2, 0x02)
		push(2, 0x01)
		binary(2, 0x08)
		instr_10(2, 0x02)
		jmp(4, label_905)

	call_23(0x0a)
	call_42(0x00)
	call(2, call_55)
	call_45(0x00, 0x01, 0x00, 0x00, add(add(add(add(add(add(add(add(add(add(add(add(add(0x00, 0x10), 0x01), 0x13), 0x01), 0x47), 0x01), 0x08), 0x01), 0x44), 0x01), 0x0b), 0x01), 0x1c))
	leave 0x03
	return acc

label label_980
push(2, 0x00)
instr_9(2, 0x03)
leave 0x03
return acc
leave 0x03
return acc

label global_2
instr_13(2, 0x02)
push(2, 0x01)
instr_9(2, 0x03)
title(u16(0x00b3), 0x1d)
call_4(u16(0x00d8))
instr_2(2, 0x00)
if cond:
	call_6(u16(0x00d8))
	call_33(0x01)
	call_41(0x01, 0x00, 0x00, 0x1e)
	push(2, 0x00)
	instr_10(2, 0x01)
	push(2, 0x00)
	instr_10(2, 0x02)
	label label_1018
	instr_6(2, 0x01)
	push(2, 0x32)
	binary(2, 0x05)
	if cond:
		call_64(0x01, 0x00, 0x04, 0x08, 0x40, arg(0x01), arg(0x01))
		instr_6(2, 0x02)
		push(2, 0x01)
		binary(2, 0x08)
		instr_10(2, 0x02)
		instr_6(2, 0x02)
		push(2, 0x02)
		binary(2, 0x06)
		if cond:
			call_23(0x0b)
			push(2, 0x00)
			instr_10(2, 0x02)

		instr_6(2, 0x01)
		push(2, 0x01)
		binary(2, 0x08)
		instr_10(2, 0x01)
		jmp(4, label_1018)

	call_49(0x01)
	call_63(0x00, 0x00, 0x08, 0x40, 0x00)
	call_23(0x0a)
	call_42(0x00)
	call(2, call_86)
	call_67(0x72, 0x60, 0x00)
	leave 0x02
	return acc

push(2, 0x00)
instr_9(2, 0x03)
leave 0x02
return acc
leave 0x02
return acc

label global_3
instr_13(2, 0x00)
call_4(u16(0x00d5))
instr_2(2, 0x00)
unary(2, 0x00)
if cond:
	func_74()
	call_5(u16(0x00d5))

push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_4
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_5
instr_13(2, 0x00)
call_90(0x00)
instr_2(2, 0x00)
push(2, 0x04)
binary(2, 0x02)
if cond:
	call_58(0xff, 0x02, 0x00)

push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_6
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc
