# `GRTHALL.EMC`.

strings = {
	s_cant_get_upper_level: 'I can\'t get to the upper level from here.',
	s_hmm_well_did_something: 'Hmm.  Well, that did something, but they\'re still locked!',
	s_aha_unlocked_last: 'Aha!  Unlocked at last!',
	s_hmm_these_doors_look: 'Hmm.  These doors look important, but they\'re locked!',
	s_title: 'The great hall',
	s_this_is_great: 'This is great.',
}

globals = [global_0, global_1, global_2, global_3, global_4, global_5, global_6]

label func_0
instr_5(2, 0x01)
instr_7(2, 0x01)
binary(2, 0x07)
instr_5(2, 0x01)
instr_7(2, 0x01)
instr_7(2, 0x03)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
binary(2, 0x07)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
instr_7(2, 0x04)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
if cond:
	return 0x01

return 0x00
return acc

label func_28
instr_5(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc
instr_7(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc

label global_0
call_40(u16(0x0080), u16(0x0087), 0x40, 0x43)
call_4(u16(0x00dd))
instr_2(2, 0x00)
if cond:
	call_3(0x02, 0x00, 0x33, u16(0x0087), 0x23)

else:
	call_3(0x02, 0x00, 0x33, u16(0x0087), 0x24)

return 0x00
return acc

label global_1
instr_13(2, 0x01)
push(2, 0x01)
instr_9(2, 0x03)
func_28()
func_0(0x1f, 0x14, 0x1b, 0x1e)
instr_2(2, 0x00)
if cond:
	speak(0xfe, 0x00, s_cant_get_upper_level)
	leave 0x01
	return acc

func_0(0x17, 0x0d, 0x1d, 0x41)
instr_2(2, 0x00)
if cond:
	speak(0xfe, 0x00, s_cant_get_upper_level)
	leave 0x01
	return acc

func_0(0x0e, 0x0d, 0x1b, u16(0x0087))
instr_2(2, 0x00)
if cond:
	speak(0xfe, 0x00, s_cant_get_upper_level)
	leave 0x01
	return acc

func_0(0x0e, 0x0d, 0x1b, u16(0x00ac))
instr_2(2, 0x00)
if cond:
	speak(0xfe, 0x00, s_cant_get_upper_level)
	leave 0x01
	return acc

func_0(0x16, 0x0c, 0x1d, u16(0x00f2))
instr_2(2, 0x00)
if cond:
	speak(0xfe, 0x00, s_cant_get_upper_level)
	leave 0x01
	return acc

func_0(0x20, 0x10, 0x19, u16(0x010e))
instr_2(2, 0x00)
if cond:
	speak(0xfe, 0x00, s_cant_get_upper_level)
	leave 0x01
	return acc

func_0(0x1d, 0x0c, 0x58, 0x23)
instr_2(2, 0x00)
if cond:
	call_11(0x01, 0x01, 0x76, 0x2c)
	instr_2(2, 0x00)
	instr_10(2, 0x01)
	instr_6(2, 0x01)
	unary(2, 0x00)
	if cond:
		call_11(0x00, 0x00, 0x76, 0x10)
		call_45(0x00, 0x01, 0x00, 0x06, add(add(add(add(add(add(add(add(add(add(add(add(add(0x00, 0x10), 0x01), 0x13), 0x01), 0x47), 0x01), 0x08), 0x01), 0x44), 0x01), 0x0b), 0x01), 0x0e))

	leave 0x01
	return acc

func_0(0x16, 0x0b, 0x49, 0x42)
instr_2(2, 0x00)
if cond:
	call_11(0x01, 0x01, 0x60, 0x4c)
	instr_2(2, 0x00)
	instr_10(2, 0x01)
	instr_6(2, 0x01)
	unary(2, 0x00)
	if cond:
		call_11(0x00, 0x00, 0x60, 0x38)
		call_45(0x00, 0x01, 0x00, 0x06, add(add(add(add(add(add(add(add(add(add(add(add(add(0x00, 0x10), 0x01), 0x13), 0x01), 0x47), 0x01), 0x08), 0x01), 0x44), 0x01), 0x0b), 0x01), 0x08))

	leave 0x01
	return acc

func_0(0x11, 0x14, 0x33, u16(0x0084))
instr_2(2, 0x00)
if cond:
	instr_5(2, 0x04)
	push(2, 0x00)
	binary(2, 0x07)
	instr_5(2, 0x04)
	push(2, 0x69)
	binary(2, 0x03)
	binary(2, 0x00)
	if cond:
		push(2, 0x00)
		instr_9(2, 0x03)
		leave 0x01
		return acc

	call(2, call_54)
	call_11(0x01, 0x01, 0x44, u16(0x008c))
	instr_2(2, 0x00)
	instr_10(2, 0x01)
	instr_6(2, 0x01)
	unary(2, 0x00)
	if cond:
		instr_5(2, 0x04)
		push(2, 0x69)
		binary(2, 0x02)
		if cond:
			call(2, call_20)
			call_4(u16(0x00dc))
			instr_2(2, 0x00)
			unary(2, 0x00)
			if cond:
				call_23(0x2c)
				speak(0xfe, 0x00, s_hmm_well_did_something)
				call_5(u16(0x00dc))

			else:
				call_4(u16(0x00dd))
				instr_2(2, 0x00)
				unary(2, 0x00)
				ifnot(1, label_439)
				call_23(0x2c)
				call_13(0x00, 0x33, u16(0x0087), 0x23)
				speak(0xfe, 0x00, s_aha_unlocked_last)
				call_5(u16(0x00dd))

			label label_439
			call(2, call_55)
			leave 0x01
			return acc

		instr_5(2, 0x04)
		push(2, 0xff)
		binary(2, 0x02)
		if cond:
			call_4(u16(0x00dd))
			instr_2(2, 0x00)
			unary(2, 0x00)
			if cond:
				speak(0xfe, 0x00, s_hmm_these_doors_look)

			else:
				call(2, call_55)
				call_45(0x00, 0x01, 0x01, 0x00, add(add(add(add(add(add(add(add(add(add(add(add(add(0x00, 0x10), 0x01), 0x13), 0x01), 0x47), 0x01), 0x08), 0x01), 0x44), 0x01), 0x0b), 0x01), 0x0a))

			call(2, call_55)
			leave 0x01
			return acc

		call(2, call_55)
		push(2, 0x00)
		instr_9(2, 0x03)
		leave 0x01
		return acc

	call(2, call_55)
	leave 0x01
	return acc

func_0(0x16, 0x0d, 0x4a, u16(0x00f1))
instr_2(2, 0x00)
if cond:
	call_11(0x01, 0x01, 0x60, u16(0x00f4))
	instr_2(2, 0x00)
	instr_10(2, 0x01)
	instr_6(2, 0x01)
	unary(2, 0x00)
	if cond:
		call_11(0x00, 0x00, 0x60, u16(0x0104))
		call_45(0x00, 0x01, 0x00, 0x02, add(add(add(add(add(add(add(add(add(add(add(add(add(0x00, 0x10), 0x01), 0x13), 0x01), 0x47), 0x01), 0x08), 0x01), 0x44), 0x01), 0x0b), 0x01), 0x10))

	leave 0x01
	return acc

func_0(0x1e, 0x10, 0x57, u16(0x010e))
instr_2(2, 0x00)
if cond:
	call_11(0x01, 0x01, 0x76, u16(0x0110))
	instr_2(2, 0x00)
	instr_10(2, 0x01)
	instr_6(2, 0x01)
	unary(2, 0x00)
	if cond:
		call_11(0x00, 0x00, 0x76, u16(0x012e))
		call_45(0x00, 0x01, 0x00, 0x02, add(add(add(add(add(add(add(add(add(add(add(add(add(0x00, 0x10), 0x01), 0x13), 0x01), 0x47), 0x01), 0x08), 0x01), 0x44), 0x01), 0x0b), 0x01), 0x0f))

	leave 0x01
	return acc

push(2, 0x00)
instr_9(2, 0x03)
leave 0x01
return acc
leave 0x01
return acc

label global_2
instr_13(2, 0x00)
title(u16(0x00b3), 0x04)
push(2, 0x00)
instr_9(2, 0x03)
return acc  # acc = title(u16(0x00b3), 0x04)
return acc  # acc = title(u16(0x00b3), 0x04)

label global_3
instr_13(2, 0x00)
call_4(u16(0x00fc))
instr_2(2, 0x00)
unary(2, 0x00)
if cond:
	call_5(u16(0x00fc))
	speak(0xfe, 0x00, s_this_is_great)

push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_4
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_5
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_6
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc
