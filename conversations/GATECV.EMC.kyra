# `GATECV.EMC`.

strings = {
	s000: 'CAVEDOOR.WSA',
	s001: 'ROCKS1.WSA',
	s_made_first_shot: 'Made it first shot!',
	s_looks_like_ill_need: 'Looks like I\'ll need to toss in more rocks.',
	s004: 'ROCKS2.WSA',
	s_made_it_again: 'Made it again!',
	s_must_need_more_rocks: 'It must need more rocks, though.',
	s007: 'ROCKS3.WSA',
	s_yes: '  Yes!  ',
	s_this_is_too_easy: 'This is too easy!',
	s010: 'ROCKS4.WSA',
	s_oops: ' Oops... ',
	s012: 'ROCKS5.WSA',
	s_i_did_it: 'I did it!',
	s_can_get_back_outside: 'I can get back outside.',
	s_looks_like_grandfathers: 'That looks like Grandfathers.',
	s_dont_think_heavy_enough: 'I don\'t think that this is heavy enough to counteract that hanging weight.',
	s017: 'TRAPPED.WSA',
	s_oh_now_just_great: 'Oh now that\'s just great.',
	s_iron_grate_must_attached: 'The iron grate must be attached to the dish and counterweight mechanism.',
	s_torch_bolted_place: 'That torch is bolted in place.',
	s_title: 'A treacherous crossing',
}

globals = [global_0, global_1, global_2, global_3, global_4, global_5, global_6]

label func_0
instr_5(2, 0x01)
instr_7(2, 0x01)
binary(2, 0x07)
instr_5(2, 0x01)
instr_7(2, 0x01)
instr_7(2, 0x03)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
binary(2, 0x07)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
instr_7(2, 0x04)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
if cond:
	return 0x01

return 0x00
return acc

label func_28
instr_5(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc
instr_7(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc

label func_74
instr_13(2, 0x01)
push(2, 0x00)
instr_10(2, 0x01)
call_4(0x76)
instr_2(2, 0x00)
if cond:
	instr_6(2, 0x01)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x01)

call_4(0x77)
instr_2(2, 0x00)
if cond:
	instr_6(2, 0x01)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x01)

call_4(0x78)
instr_2(2, 0x00)
if cond:
	instr_6(2, 0x01)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x01)

call_4(0x79)
instr_2(2, 0x00)
if cond:
	instr_6(2, 0x01)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x01)

call_4(0x7a)
instr_2(2, 0x00)
if cond:
	instr_6(2, 0x01)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x01)

leave 0x01
return arg(0x01)
leave 0x01
return acc

label func_133
call(2, call_54)
call_41(0x01, 0xff, 0x01, 0x00)
call_41(0x01, 0x00, 0x00, 0x01)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0088), 0x0c, 0x00)
call_23(0x2f)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0088), 0x12, 0x0d)
call_64(0x01, 0x00, 0x00, 0x0e, u16(0x0088), 0x13, 0x13)
call_23(0x2e)
call_64(0x01, 0x01, 0x07, 0x27, 0x18, 0x01, 0x01)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0088), 0x14, 0x14)
call_64(0x01, 0x00, 0x00, 0x0e, u16(0x0088), 0x15, 0x15)
call_64(0x01, 0x01, 0x07, 0x27, 0x18, 0x00, 0x00)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0088), 0x19, 0x16)
call_42(0x01)
call_42(0x00)
call_5(0x76)
call_49(0x00)
call_3(0x02, 0x00, 0x27, 0x18, 0x06)
call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x08)
call_3(0x02, 0x00, 0x0e, u16(0x00d0), 0x0c)
call(2, call_86)
call(2, call_55)
call(2, call_55)
speak(0xfe, 0x00, s_made_first_shot)
speak(0xfe, 0x00, s_looks_like_ill_need)
call_54()

label func_280
return acc  # acc = call_54(...)
call(2, call_54)
call_41(0x01, 0x00, 0x00, 0x04)
call_41(0x01, 0xff, 0x01, 0x00)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x09, 0x00)
call_23(0x2f)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x0f, 0x0a)
call_23(0x2e)
call_64(0x01, 0x00, 0x00, 0x0e, u16(0x0080), 0x10, 0x10)
call_64(0x01, 0x01, 0x07, 0x27, 0x18, 0x01, 0x01)
call_64(0x01, 0x00, 0x00, 0x0e, u16(0x0080), 0x11, 0x11)
call_23(0x23)
call_64(0x01, 0x01, 0x07, 0x27, 0x18, 0x02, 0x02)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x12, 0x12)
call_23(0x24)
call_64(0x01, 0x00, 0x00, 0x0e, u16(0x0080), 0x13, 0x13)
call_23(0x25)
call_64(0x01, 0x01, 0x07, 0x27, 0x18, 0x01, 0x01)
call_64(0x01, 0x00, 0x00, 0x0e, u16(0x0080), 0x14, 0x14)
call_64(0x01, 0x01, 0x07, 0x27, 0x18, 0x00, 0x00)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x16, 0x15)
call_42(0x01)
call_42(0x00)
call_49(0x00)
call_3(0x02, 0x00, 0x27, 0x18, 0x06)
call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x09)
call_3(0x02, 0x00, 0x0e, u16(0x00d0), 0x0c)
call(2, call_86)
call_5(0x77)
call(2, call_55)
call(2, call_55)
speak(0xfe, 0x00, s_made_it_again)
speak(0xfe, 0x00, s_must_need_more_rocks)
call(2, call_54)

label func_474
leave 0x00
return acc
call(2, call_54)
call_41(0x01, 0x00, 0x00, 0x07)
call_41(0x01, 0xff, 0x01, 0x00)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x00, 0x00)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x0c, 0x00)
call_23(0x2f)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x12, 0x0d)
call_23(0x22)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x16, 0x13)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x01, 0x01)
call_23(0x2e)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x17, 0x17)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x02, 0x02)
call_23(0x23)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x18, 0x18)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x03, 0x03)
call_23(0x23)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x1a, 0x19)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x02, 0x02)
call_23(0x24)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x1b, 0x1b)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x01, 0x01)
call_23(0x24)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x1c, 0x1c)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x00, 0x00)
call_23(0x25)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0080), 0x2b, 0x1d)
call_42(0x01)
call_42(0x00)
call_49(0x00)
call_3(0x02, 0x00, 0x27, 0x18, 0x06)
call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x0a)
call_3(0x02, 0x00, 0x0e, u16(0x00d0), 0x0c)
call(2, call_86)
call_5(0x78)
call(2, call_55)
call(2, call_55)
speak(0xfe, 0x00, s_yes)
speak(0xfe, 0x00, s_this_is_too_easy)

label func_714
return call_54()
instr_13(2, 0x02)
call(2, call_54)
call_41(0x01, 0x00, 0x00, 0x0a)
call_41(0x01, 0xff, 0x01, 0x00)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x00, 0x00)
call_64(0x01, 0x00, 0x07, 0x0e, 0x78, 0x12, 0x00)
call_23(0x2f)
call_64(0x01, 0x00, 0x07, 0x0e, 0x78, 0x18, 0x13)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x01, 0x01)
call_23(0x2e)
call_64(0x01, 0x00, mul(0x07, 0x02), 0x0e, 0x78, 0x19, 0x19)
call_23(0x23)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x01, 0x01)
call_64(0x01, 0x00, 0x07, 0x0e, 0x78, 0x1a, 0x1a)
push(2, 0x1b)
instr_10(2, 0x01)

label label_807
instr_6(2, 0x01)
push(2, 0x22)
binary(2, 0x05)
if cond:
	call_64(0x01, 0x01, 0x00, 0x27, 0x18, sub(arg(0x01), 0x1b), sub(arg(0x01), 0x1b))
	call_23(0x23)
	call_64(0x01, 0x00, 0x07, 0x0e, 0x78, arg(0x01), arg(0x01))
	instr_6(2, 0x01)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x01)
	jmp(4, label_807)

push(2, 0x23)
instr_10(2, 0x01)
push(2, 0x07)
instr_10(2, 0x02)
call_23(0x6a)

label label_849
instr_6(2, 0x01)
push(2, 0x29)
binary(2, 0x05)
if cond:
	call_64(0x01, 0x01, 0x00, 0x27, 0x18, arg(0x02), arg(0x02))
	call_23(0x24)
	call_64(0x01, 0x00, 0x07, 0x0e, 0x78, arg(0x01), arg(0x01))
	instr_6(2, 0x01)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x01)
	instr_6(2, 0x02)
	push(2, 0x01)
	binary(2, 0x09)
	instr_10(2, 0x02)
	jmp(4, label_849)

call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x00, 0x00)
call_23(0x25)
call_64(0x01, 0x00, 0x07, 0x0e, 0x78, 0x39, 0x2a)
call_42(0x01)
call_42(0x00)
call_49(0x00)
call_3(0x02, 0x00, 0x27, 0x18, 0x06)
call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x0a)
call_3(0x02, 0x00, 0x0e, u16(0x00d0), 0x0c)
call(2, call_86)
call_5(0x79)
call(2, call_55)
call(2, call_55)
speak(0xfe, 0x00, s_oops)

label func_948
call(2, call_54)
leave 0x02
return acc
instr_13(2, 0x02)
call(2, call_54)
call_41(0x01, 0x00, 0x00, 0x0c)
call_41(0x01, 0xff, 0x01, 0x00)
call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x00, 0x00)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0088), 0x0d, 0x00)
call_23(0x2f)
call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0088), 0x11, 0x0e)
call_23(0x2e)
push(2, 0x12)
instr_10(2, 0x01)
push(2, 0x01)
instr_10(2, 0x02)

label label_1004
instr_6(2, 0x01)
push(2, 0x20)
binary(2, 0x05)
if cond:
	call_23(0x23)
	call_64(0x01, 0x01, 0x00, 0x27, 0x18, arg(0x02), arg(0x02))
	call_64(0x01, 0x00, 0x07, 0x0e, u16(0x0088), arg(0x01), arg(0x01))
	instr_6(2, 0x01)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x01)
	instr_6(2, 0x02)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x02)
	jmp(4, label_1004)

call_64(0x01, 0x01, 0x00, 0x27, 0x18, 0x0f, 0x0f)
call_64(0x01, 0x00, 0x00, 0x0e, u16(0x0088), 0x21, 0x21)
call_49(0x00)
call_63(0x01, 0x00, 0x27, 0x18, 0x0f)
call(2, call_86)
call_49(0x00)
call_63(0x00, 0x00, 0x0e, u16(0x0088), 0x22)
call(2, call_86)
call_42(0x01)
call_42(0x00)
call_5(0x7a)
call(2, call_55)
call(2, call_55)
speak(0xfe, 0x00, s_i_did_it)
speak(0xfe, 0x00, s_can_get_back_outside)
call(2, call_54)
push(2, 0x4b)
push(2, 0x09)
binary(2, 0x08)
push(2, 0x01)
binary(2, 0x09)
push(2, 0x1d)
push(2, 0x14)
binary(2, 0x08)
push(2, 0x01)
binary(2, 0x09)
push(2, 0x4b)
push(2, 0x1d)
call(2, call_9)

label func_1117
instr_12(2, 0x04)
leave 0x02
return acc
call(2, call_54)
call_114(0x02)
instr_2(2, 0x00)
if cond:
	call_24(0x01, 0x01)
	call(2, call_38)
	call_24(0x00, 0x03)

call_11(0x01, 0x00, 0x4c, u16(0x0090))
call_58(0x07, 0x03, 0x00)
instr_5(2, 0x04)
push(2, 0xff)
binary(2, 0x02)
if cond:
	speak(0xfe, 0x00, s_looks_like_grandfathers)
	call(2, call_55)
	return 0x01

instr_5(2, 0x04)
push(2, 0x66)
binary(2, 0x03)
if cond:
	speak(0xfe, 0x00, s_dont_think_heavy_enough)
	call(2, call_55)
	return 0x01

call(2, call_20)
func_74()
instr_2(2, 0x00)
push(2, 0x04)
binary(2, 0x02)
if cond:
	func_948()
	call_5(0x75)
	call(2, call_55)
	return 0x01

func_74()
instr_2(2, 0x00)
push(2, 0x03)
binary(2, 0x02)
if cond:
	func_714()
	call(2, call_55)
	return 0x01

func_74()
instr_2(2, 0x00)
push(2, 0x02)
binary(2, 0x02)
if cond:
	func_474()
	call(2, call_55)
	return 0x01

func_74()
instr_2(2, 0x00)
push(2, 0x01)
binary(2, 0x02)
if cond:
	func_280()
	call(2, call_55)
	return 0x01

func_74()
instr_2(2, 0x00)
push(2, 0x00)
binary(2, 0x02)
if cond:
	func_133()
	call(2, call_55)
	return 0x01

call(2, call_55)
push(2, 0x00)

label func_1247
instr_8(2, 0x00)
return acc
return acc
instr_13(2, 0x01)
call(2, call_54)
call_114(0x02)
instr_2(2, 0x00)
if cond:
	call_24(0x01, 0x01)
	call(2, call_38)
	call_24(0x00, 0x03)

call_11(0x01, 0x00, 0x4e, 0x60)
call_23(0x1e)
call_65(0x01, 0x03, 0x07, 0x00)
call_41(0x00, 0x00, 0x00, 0x11)
call_41(0x01, 0xff, 0x01, 0x00)
push(2, 0x00)
instr_10(2, 0x01)

label label_1296
instr_6(2, 0x01)
push(2, 0x0f)
binary(2, 0x05)
if cond:
	call_64(0x01, 0x00, 0x00, 0x0e, u16(0x00b0), arg(0x01), arg(0x01))
	call_23(0x24)
	call_64(0x01, 0x01, sub(0x0f, arg(0x01)), 0x27, 0x18, sub(0x0f, arg(0x01)), sub(0x0f, arg(0x01)))
	instr_6(2, 0x01)
	push(2, 0x01)
	binary(2, 0x08)
	instr_10(2, 0x01)
	jmp(4, label_1296)

call_23(0x25)
call_42(0x01)
call_42(0x00)
call_49(0x00)
call_3(0x02, 0x00, 0x27, 0x18, 0x06)
call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x07)
call_3(0x02, 0x00, 0x0e, u16(0x00d0), 0x0c)
call(2, call_86)
call_10(sub(add(0x4b, 0x09), 0x01), sub(add(0x1d, 0x14), 0x01), 0x4b, 0x1d)
call_33(0x01)
call_58(0x07, 0x05, 0x00)
call_33(0x01)
speak(0xfe, 0x00, s_oh_now_just_great)
call(2, call_55)
leave 0x01
return acc

label global_0
call_143(0x3d, 0x38, 0x0e, u16(0x00b0))
call_143(0x28, 0x18, 0x27, 0x18)
call_143(0x3e, 0x60, 0x0e, u16(0x0088))
call_143(0x43, 0x70, 0x0e, u16(0x0080))
call_143(0x3e, 0x70, 0x0e, 0x78)
call_40(u16(0x00ba), u16(0x0090), u16(0x00ba), u16(0x0088))
call_4(0x74)
instr_2(2, 0x00)
call_4(0x75)
instr_2(2, 0x00)
unary(2, 0x00)
binary(2, 0x00)
if cond:
	call_3(0x02, 0x00, 0x0e, u16(0x00d0), 0x0c)
	call_3(0x02, 0x00, 0x27, 0x18, 0x06)
	func_74()
	instr_2(2, 0x00)
	push(2, 0x00)
	binary(2, 0x02)
	if cond:
		call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x07)

	func_74()
	instr_2(2, 0x00)
	push(2, 0x01)
	binary(2, 0x02)
	if cond:
		call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x08)

	func_74()
	instr_2(2, 0x00)
	push(2, 0x02)
	binary(2, 0x02)
	if cond:
		call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x09)

	func_74()
	instr_2(2, 0x00)
	push(2, 0x03)
	binary(2, 0x02)
	if cond:
		call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x0a)

	func_74()
	instr_2(2, 0x00)
	push(2, 0x04)
	binary(2, 0x02)
	if cond:
		call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x0a)

	call_10(sub(add(0x4b, 0x09), 0x01), sub(add(0x1d, 0x14), 0x01), 0x4b, 0x1d)

call_4(0x75)
instr_2(2, 0x00)
if cond:
	call_3(0x02, 0x00, 0x0e, u16(0x00b0), 0x0b)

return 0x00
return acc

label global_1
instr_13(2, 0x00)
push(2, 0x01)
instr_9(2, 0x03)
call_4(0x74)
instr_2(2, 0x00)
unary(2, 0x00)
call_4(0x75)
instr_2(2, 0x00)
unary(2, 0x00)
binary(2, 0x00)
if cond:
	func_0(0x53, u16(0x00f7), 0x00, 0x49)
	instr_2(2, 0x00)
	func_0(u16(0x0087), u16(0x00f2), 0x00, 0x4e)
	instr_2(2, 0x00)
	binary(2, 0x01)
	ifnot(1, label_1624)
	func_1247()
	return call_5(0x74)

label label_1624
func_0(add(sub(0x38, 0x0f), 0x01), add(sub(u16(0x00d1), u16(0x00aa)), 0x01), 0x0f, u16(0x00aa))
instr_2(2, 0x00)
if cond:
	call_4(0x74)
	instr_2(2, 0x00)
	call_4(0x75)
	instr_2(2, 0x00)
	unary(2, 0x00)
	binary(2, 0x00)
	ifnot(1, label_1662)
	func_1117()
	instr_2(2, 0x00)
	instr_9(2, 0x03)
	return acc  # acc = call_4(0x75)

label label_1662
func_0(add(sub(0x4e, 0x29), 0x01), add(sub(0x32, 0x1a), 0x01), 0x29, 0x1a)
instr_2(2, 0x00)
if cond:
	call_4(0x74)
	instr_2(2, 0x00)
	call_4(0x75)
	instr_2(2, 0x00)
	unary(2, 0x00)
	binary(2, 0x00)
	ifnot(1, label_1700)
	func_28()
	return speak(0xfe, 0x00, s_iron_grate_must_attached)

label label_1700
func_0(0x20, 0x16, 0x1d, 0x38)
instr_2(2, 0x00)
func_0(0x20, 0x16, 0x1d, u16(0x00fd))
instr_2(2, 0x00)
binary(2, 0x01)
if cond:
	func_28()
	return speak(0xfe, 0x00, s_torch_bolted_place)

push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_2
instr_13(2, 0x00)
title(u16(0x00b3), 0x15)
push(2, 0x00)
instr_9(2, 0x03)
return acc  # acc = title(u16(0x00b3), 0x15)
return acc  # acc = title(u16(0x00b3), 0x15)

label global_3
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_4
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_5
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_6
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc
