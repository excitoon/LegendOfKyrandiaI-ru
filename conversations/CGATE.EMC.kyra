# `CGATE.EMC`.

strings = {
	s000: 'ACIDGATE.WSA',
	s001: 'GATE.WSA',
	s_obviously_needs_key: 'This obviously needs a key.',
	s_gate_now_unlocked: 'The gate is now unlocked.',
	s_key_doesnt_fit_keyhole: 'This key doesn\'t fit this keyhole.',
	s_thanks_mom: 'Thanks, Mom!',
	s_the_key_fit: 'The key fit...',
	s_but_did_it_work: '...but did it work?',
	s_title: 'The gate of Castle Kyrandia',
}

globals = [global_0, global_1, global_2, global_3, global_4, global_5, global_6]

label func_0
instr_5(2, 0x01)
instr_7(2, 0x01)
binary(2, 0x07)
instr_5(2, 0x01)
instr_7(2, 0x01)
instr_7(2, 0x03)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
binary(2, 0x07)
binary(2, 0x00)
instr_5(2, 0x02)
instr_7(2, 0x02)
instr_7(2, 0x04)
binary(2, 0x08)
binary(2, 0x05)
binary(2, 0x00)
if cond:
	return 0x01

return 0x00
return acc

label func_28
instr_5(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc
instr_7(2, 0x01)
call_56(0x00)
instr_2(2, 0x00)
binary(2, 0x05)
if cond:
	call_58(0xff, 0x05, 0x00)

else:
	call_58(0xff, 0x03, 0x00)

return 0x00
return acc

label func_74
call_41(0x00, 0x00, 0x00, 0x00)
call_64(0x01, 0x00, 0x05, 0x08, 0x78, 0x06, 0x00)
call_24(0x01, 0x31)
call_64(0x01, 0x00, 0x05, 0x08, 0x78, 0x14, 0x07)
call_23(0x6d)
call_64(0x01, 0x00, 0x05, 0x08, 0x78, 0x1d, 0x15)
call_23(0x6d)
call_64(0x01, 0x00, 0x05, 0x08, 0x78, 0x3d, 0x1e)
call_23(0x42)
call_64(0x01, 0x00, 0x05, 0x08, 0x78, 0x41, 0x3e)
call_23(0x42)
call_64(0x01, 0x00, 0x05, 0x08, 0x78, 0x49, 0x42)
call_23(0x5e)
call_64(0x01, 0x00, 0x05, 0x08, 0x78, 0x69, 0x4a)
call_23(0x0a)
call_42(0x00)
call_99(add(add(add(0x29, 0x23), 0x01), 0x0b), 0x00)
call_67(0xff, 0xff, 0x00)
return call_125(0x00)

label global_0
call_143(u16(0x0080), u16(0x00a0), 0x08, 0x78)
call_143(0x5f, 0x48, 0x19, u16(0x0088))
call_4(u16(0x00db))
instr_2(2, 0x00)
if cond:
	call_41(0x01, 0xff, 0x00, 0x01)
	call_63(0x00, 0x00, 0x19, u16(0x0088), 0x0a)
	call_42(0x00)
	call_9(0x77, u16(0x00ce), 0x6c, u16(0x00aa))

return 0x00
return acc

label global_1
instr_13(2, 0x01)
push(2, 0x01)
instr_9(2, 0x03)
func_0(add(sub(0x68, 0x56), 0x01), add(sub(u16(0x00b2), u16(0x00a1)), 0x01), 0x56, u16(0x00a1))
instr_2(2, 0x00)
if cond:
	func_28()
	instr_5(2, 0x04)
	push(2, 0xff)
	binary(2, 0x02)
	if cond:
		call_4(u16(0x00db))
		instr_2(2, 0x00)
		unary(2, 0x00)
		if cond:
			speak(0xfe, 0x00, s_obviously_needs_key)

		else:
			speak(0xfe, 0x00, s_gate_now_unlocked)

		leave 0x01
		return acc

	instr_5(2, 0x04)
	push(2, 0x3a)
	binary(2, 0x07)
	instr_5(2, 0x04)
	push(2, 0x3b)
	binary(2, 0x05)
	binary(2, 0x00)
	if cond:
		speak(0xfe, 0x00, s_key_doesnt_fit_keyhole)
		leave 0x01
		return acc

	instr_5(2, 0x04)
	push(2, 0x69)
	binary(2, 0x02)
	if cond:
		speak(0xfe, 0x00, s_key_doesnt_fit_keyhole)
		leave 0x01
		return acc

	instr_5(2, 0x04)
	push(2, 0x39)
	binary(2, 0x02)
	ifnot(1, label_449)
	call_4(u16(0x00db))
	instr_2(2, 0x00)
	unary(2, 0x00)
	if cond:
		call_23(0x2c)
		call_114(0x20)
		instr_2(2, 0x00)
		if cond:
			call(2, call_54)
			call(2, call_20)
			call_11(0x01, 0x00, 0x6e, u16(0x00dc))
			call_58(0x07, 0x05, 0x00)
			call_41(0x01, 0x00, 0x00, 0x01)
			call_23(0x2d)
			call_64(0x01, 0x00, 0x0a, 0x19, u16(0x0088), 0x0a, 0x00)
			call_49(0x00)
			call_63(0x00, 0x00, 0x19, u16(0x0088), 0x0a)
			call(2, call_86)
			call_42(0x00)
			speak(0xfe, 0x00, s_thanks_mom)
			call_9(0x77, u16(0x00ce), 0x6c, u16(0x00aa))
			call_5(u16(0x00db))
			call(2, call_55)

		else:
			call_24(0x01, 0x01)
			call(2, call_54)
			call(2, call_20)
			call(2, call_38)
			call_11(0x01, 0x00, 0x74, u16(0x00c4))
			call_58(0x07, 0x05, 0x00)
			speak(0xfe, 0x00, s_the_key_fit)
			speak(0xfe, 0x00, s_but_did_it_work)
			func_74()
			call_95(0x07)
			call_33(0x02)
			call(2, call_55)
			leave 0x01
			return acc

	leave 0x01
	return acc

label label_449
func_0(u16(0x0080), u16(0x00a8), 0x08, 0x08)
instr_2(2, 0x00)
func_0(0x5a, u16(0x0100), 0x08, 0x08)
instr_2(2, 0x00)
binary(2, 0x01)
func_0(0x0d, 0x22, 0x60, u16(0x00ad))
instr_2(2, 0x00)
binary(2, 0x01)
if cond:
	call_4(u16(0x00db))
	instr_2(2, 0x00)
	if cond:
		push(2, 0x00)
		instr_9(2, 0x03)
		leave 0x01
		return acc

	call_114(0x20)
	instr_2(2, 0x00)
	if cond:
		push(2, 0x00)
		instr_9(2, 0x03)
		leave 0x01
		return acc

	call_24(0x01, 0x01)
	call(2, call_54)
	call(2, call_20)
	call(2, call_38)
	call_11(0x01, 0x01, 0x74, u16(0x00c4))
	instr_2(2, 0x00)
	instr_10(2, 0x01)
	instr_6(2, 0x01)
	if cond:
		call(2, call_55)
		leave 0x01
		return acc

	call_58(0x07, 0x05, 0x00)
	func_74()
	call_95(0x07)
	call_33(0x02)
	call(2, call_55)
	leave 0x01
	return acc

push(2, 0x00)
instr_9(2, 0x03)
leave 0x01
return acc
leave 0x01
return acc

label global_2
instr_13(2, 0x00)
title(u16(0x00b3), 0x08)
push(2, 0x00)
instr_9(2, 0x03)
return acc  # acc = title(u16(0x00b3), 0x08)
return acc  # acc = title(u16(0x00b3), 0x08)

label global_3
instr_13(2, 0x00)
instr_5(2, 0x07)
unary(2, 0x00)
if cond:
	call_90(0x00)
	instr_2(2, 0x00)
	push(2, 0x00)
	binary(2, 0x02)
	if cond:
		call_65(0x01, 0x05, 0x07, 0x00)

	else:
		call_65(0x01, 0x03, 0x07, 0x00)
		call_11(0x01, 0x00, 0x58, 0x3c)

call_8(0x01, 0x01, 0xff, 0xff, add(add(add(add(add(add(add(add(add(add(add(add(add(0x00, 0x10), 0x01), 0x13), 0x01), 0x47), 0x01), 0x08), 0x01), 0x44), 0x01), 0x0b), 0x01), 0x06), 0x00, 0x62, 0x14, 0x4c, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc  # acc = call_8(...)
return acc  # acc = call_8(...)

label global_4
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_5
instr_13(2, 0x00)
call_90(0x00)
instr_2(2, 0x00)
push(2, 0x04)
binary(2, 0x02)
if cond:
	call(2, call_38)
	call_46(0xff, 0xff)

push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc

label global_6
instr_13(2, 0x00)
push(2, 0x00)
instr_9(2, 0x03)
return acc
return acc
